do run
loading script "felix_ic_peak_hop.py"
loading script "felix_pump_ms.py"
loading script "felix_pump_extraction_line.py"
testing...
no interpolation path defined
executed snippet estimated_duration=135.88, duration=0.000855922698975
script duration name:ic_peak_hop seconds:136.0
loading script "felix_ic_peak_hop.py"
loading script "felix_pump_ms.py"
loading script "felix_pump_extraction_line.py"
testing...
no interpolation path defined
executed snippet estimated_duration=0, duration=4.00543212891e-05
loading script "felix_ic_peak_hop.py"
loading script "felix_pump_ms.py"
loading script "felix_pump_extraction_line.py"
loading script "felix_ic_peak_hop.py"
loading script "felix_pump_ms.py"
loading script "felix_pump_extraction_line.py"
testing...
no interpolation path defined
calculate duration
testing...
no interpolation path defined
executed snippet estimated_duration=4.0, duration=0.000216007232666
executed snippet estimated_duration=4.0, duration=0.00164008140564
Script duration 136.0
Run total estimated duration= 137.000
run duration: 0:02:17
doing event level: 2
09:22:47 -- Setting default integration. t=1.048576
setting integration time = 1.048576
SetIntegrationTime 1.048576 ===>> OK
----------------- start -----------------
**************** Experiment Type: Ar/Ar, Ar/Ar
close session 4738352144
$$$$$ Clearing conditionals
adding conditionals 
Add queue conditionals
add default conditionals
adding default conditionals from /Users/obama/PychronDev/setupfiles/spectrometer/default_conditionals.yaml
Start automated run ic-01-F-75
loading script "felix_ic_peak_hop.py"
loading script "felix_pump_ms.py"
loading script "felix_pump_extraction_line.py"
%%%%%%%%%%%%%%%%%% setting automated run ic-01-F-75
$$$$$$$$$$$$$$$ auto_save_detector_ic=False
No metadata section in "felix_ic_peak_hop.py". Using default "None" value for "default_fits"
============================= Pre Extraction Check =============================
loading queue conditionals pre_run_terminations
loading system conditionals pre_run_terminations
loading conditionals from /Users/obama/PychronDev/setupfiles/spectrometer/default_conditionals.yaml
09:22:47 -- ******* Pre Extraction Check *******
Get a measurement from the spectrometer
Pre Extraction Termination data. keys=L2(CDD),H2,H1,AX,L1,L2, signals=2.15432,636.48033,0.59658,0.32505,-0.26282,-0.05366
09:22:47 -- testing system defined conditionals
Checking default pre extraction terminations n=2
testing L2_CDD_
evaluate ot="L2(CDD).inactive" t="L2_CDD_", ctx="{'L2_CDD_': False}"
GetDeflection L2 (CDD) ===>> 0
testing L2_CDD_==3250
evaluate ot="L2(CDD).deflection==3250" t="L2_CDD_==3250", ctx="{'L2_CDD_': 0.0}"
09:22:47 -- ******* Pre Extraction Check Passed *******
=================================================================================
09:22:47 -- stopping status monitor
stop 4710572592
Status monitor stopped
Status monitor finished
09:22:52 -- starting status monitor
start 4710572592
StatusMonitor period=3. Frequencies(state=1, checksum=3, lock=5, owner=5)
start extraction
no extraction script
09:22:56 -- Sending spectrometer configuration
======== Sending configuration ========
SetZFocus 1.65 ===>> OK
SetHV 9900.0 ===>> OK
SetZSymmetry 3.35 ===>> OK
SetExtractionLens 63.57 ===>> OK
SetIonRepeller -5.15 ===>> OK
SetElectronEnergy 125.02 ===>> OK
SetYSymmetry 38.07 ===>> OK
send trap current 250.0
GetParameter Trap Current Readback ===>> 248.942501373375
SetParameter Trap Current Set,250.0 ===>> OK
updating mftable name argon
Using mftable located at /Users/obama/PychronDev/setupfiles/spectrometer/mftables/argon.csv
============ MFtable ===========
Isotope  H2     H1     AX     L1     L2     L2(CDD)
Ar40     3.7649 3.8401 3.9182 3.9996 4.1078 4.0933
Ar39     3.6905 3.7648 3.8413 3.9241 4.0271 4.0123
Ar36     3.4641 3.5340 3.6058 3.6816 3.7907 3.7662
================================
get initial guess parabolic
get initial guess parabolic
get initial guess parabolic
get initial guess parabolic
get initial guess parabolic
get initial guess parabolic
======== Configuration Finished ========
GetYSymmetry ===>> 38.07
GetZSymmetry ===>> 3.35
GetParameter Trap Current Readback ===>> 248.494964292254
GetHighVoltage ===>> 9900
start measurement
do measurement
L#=ic-01-F analysis type=detector_ic
Measurement Started felix_ic_peak_hop.py
09:22:57 -- ******* Measurement Started felix_ic_peak_hop.py *******
state changed from not run to measurement
setting trap, emission, spec, defl, and gains
GetExtractionLens ===>> 63.57
GetYSymmetry ===>> 38.07
GetZSymmetry ===>> 3.35
GetZFocus ===>> 1.65
GetDeflection H2 (CDD) ===>> 3250
GetDeflection H1 (CDD) ===>> 3250
GetDeflection AX (CDD) ===>> 3250
GetDeflection L1 (CDD) ===>> 3250
GetDeflection L2 (CDD) ===>> 0
GetGain H2 ===>> 0.9809305
GetGain H1 ===>> 0.97476
GetGain AX ===>> 0.96253
GetGain L1 ===>> 0.970094835296087
GetGain L2 ===>> 0.967359864778375
GetGain H2(CDD) ===>> 0
GetGain H1(CDD) ===>> 0
GetGain AX(CDD) ===>> 0
GetGain L1(CDD) ===>> 0
GetGain L2(CDD) ===>> 0
GetParameter Trap Current Readback ===>> 248.047427211133
GetParameter Source Current Readback ===>> 884.277421717634
pre measurement save
New frame /Users/obama/PychronDev/data/isotopes/b2/84f038-8360-4d21-b48a-f3c9aa866fd2.h5
flush and close file /Users/obama/PychronDev/data/isotopes/b2/84f038-8360-4d21-b48a-f3c9aa866fd2.h5
testing...
no interpolation path defined
setting detector H2 to Ar40 (39.9624)
setting detector H1 to Ar39 (38.8624)
setting detector AX to Ar38 (37.9624)
setting detector L1 to Ar37 (36.9624)
setting detector L2 to Ar36 (35.8624)
setting detector H2(CDD) to Ar40 (39.8624)
setting detector H1(CDD) to Ar39 (38.8624)
setting detector AX(CDD) to Ar38 (37.8624)
setting detector L1(CDD) to Ar37 (36.8624)
setting detector L2(CDD) to Ar36 (35.9624)
setting detector H2 to Ar40 (40.064)
setting detector H1 to Ar39 (38.964)
setting detector AX to Ar38 (38.064)
setting detector L1 to Ar37 (37.064)
setting detector L2 to Ar36 (35.964)
setting detector H2(CDD) to Ar40 (39.964)
setting detector H1(CDD) to Ar39 (38.964)
setting detector AX(CDD) to Ar38 (37.964)
setting detector L1(CDD) to Ar37 (36.964)
setting detector L2(CDD) to Ar36 (36.064)
setting detector H2 to Ar40 (39.9627)
setting detector H1 to Ar39 (38.8627)
setting detector AX to Ar38 (37.9627)
setting detector L1 to Ar37 (36.9627)
setting detector L2 to Ar36 (35.8627)
setting detector H2(CDD) to Ar40 (39.8627)
setting detector H1(CDD) to Ar39 (38.8627)
setting detector AX(CDD) to Ar38 (37.8627)
setting detector L1(CDD) to Ar37 (36.8627)
setting detector L2(CDD) to Ar36 (35.9627)
setting detector H2 to Ar40 (39.9668)
setting detector H1 to Ar39 (38.8668)
setting detector AX to Ar38 (37.9668)
setting detector L1 to Ar37 (36.9668)
setting detector L2 to Ar36 (35.8668)
setting detector H2(CDD) to Ar40 (39.8668)
setting detector H1(CDD) to Ar39 (38.8668)
setting detector AX(CDD) to Ar38 (37.8668)
setting detector L1(CDD) to Ar37 (36.8668)
setting detector L2(CDD) to Ar36 (35.9668)
executed snippet estimated_duration=165.88, duration=0.00901198387146
unknown measurement script
load_hops ('hops/ic_hops.txt',) {}
[{'counts': 10, 'settle': 5, 'positioning': {'detector': 'H2', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'H2'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'H1', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'H1'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'AX', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'AX'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'L1', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'L1'}]}]
define_hops ([{'counts': 10, 'settle': 5, 'positioning': {'detector': 'H2', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'H2'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'H1', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'H1'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'AX', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'AX'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'L1', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'L1'}]}],) {}
*************** Set Analysis View Ar/Ar
equilibrate () {'delay': 3.0, 'inlet': 'H', 'outlet': 'V', 'eqtime': 15.0}
Equilibration Started
09:22:57 -- ******* Equilibration Started *******
checking ownership. requestor=129.138.12.137
check software interlocks V
interlocks []
actuate state mode=None-script, software_lock=True
VALVE-V(Felix Ion Pump) software locked
change switch state (True, False)
waiting 3.0s before opening inlet value ('H',)
checking ownership. requestor=129.138.12.137
check software interlocks H
interlocks []
actuate state mode=None-script, software_lock=True
VALVE-H(Felix Inlet) software locked
change switch state (True, False)
set_time_zero () {}
equilibrating for 15.0sec
sleep (14.0,) {}
SLEEP 14.0
block started
WaitControl setup for 14.0  
Join finished
block finished. duration 14.0717358589
set_fits ('Ar40H2:parabolic', 'Ar40H1:parabolic', 'Ar40AX:parabolic', 'Ar40L1:parabolic') {}
set "Ar40H2" to "parabolic"
set "Ar40H1" to "parabolic"
set "Ar40AX" to "parabolic"
set "Ar40L1" to "parabolic"
set_baseline_fits ('average_SEM',) {}
set "H2" to "average_SEM"
set "H1" to "average_SEM"
set "AX" to "average_SEM"
set "L1" to "average_SEM"
sleep (0.5,) {}
SLEEP 0.5
peak_hop () {'ncycles': 6, 'hops': [{'counts': 10, 'settle': 5, 'positioning': {'detector': 'H2', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'H2'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'H1', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'H1'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'AX', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'AX'}]}, {'counts': 10, 'settle': 5, 'positioning': {'detector': 'L1', 'isotope': 'Ar40'}, 'cup_configuration': [{'protect': False, 'is_baseline': False, 'isotope': 'Ar40', 'deflection': None, 'active': True, 'detector': 'L1'}]}], 'mftable': 'mftable'}
Using MFTable /Users/obama/PychronDev/setupfiles/spectrometer/mftables/mftable.csv
Using mftable located at /Users/obama/PychronDev/setupfiles/spectrometer/mftables/mftable.csv
_execute: Traceback (most recent call last):
  File "/Users/obama/Programming/git/pychron_dev/pychron/pyscripts/pyscript.py", line 360, in execute_snippet
    func(*argv)
  File "<string>", line 82, in main
  File "/Users/obama/Programming/git/pychron_dev/pychron/pyscripts/pyscript.py", line 135, in decorator
    return func(obj, *args, **kw)
  File "/Users/obama/Programming/git/pychron_dev/pychron/pyscripts/measurement_pyscript.py", line 344, in peak_hop
    group=group):
  File "/Users/obama/Programming/git/pychron_dev/pychron/pyscripts/measurement_pyscript.py", line 883, in _automated_run_call
    return func(*args, **kw)
  File "/Users/obama/Programming/git/pychron_dev/pychron/experiment/automated_run/automated_run.py", line 539, in py_peak_hop
    self.ion_optics_manager.set_mftable(mftable)
  File "/Users/obama/Programming/git/pychron_dev/pychron/spectrometer/ion_optics/ion_optics_manager.py", line 88, in set_mftable
    self.spectrometer.magnet.set_mftable(name)
  File "/Users/obama/Programming/git/pychron_dev/pychron/spectrometer/base_magnet.py", line 81, in set_mftable
    self.mftable.set_path_name(name)
  File "/Users/obama/Programming/git/pychron_dev/pychron/spectrometer/mftable.py", line 217, in set_path_name
    self.load_mftable()
  File "/Users/obama/Programming/git/pychron_dev/pychron/spectrometer/mftable.py", line 303, in load_mftable
    self._set_mftable_hash(path)
  File "/Users/obama/Programming/git/pychron_dev/pychron/spectrometer/mftable.py", line 430, in _set_mftable_hash
    self._mftable_hash = self._make_hash(p)
  File "/Users/obama/Programming/git/pychron_dev/pychron/spectrometer/mftable.py", line 426, in _make_hash
    with open(p, 'U') as rfile:
IOError: [Errno 2] No such file or directory: u'/Users/obama/PychronDev/setupfiles/spectrometer/mftables/mftable.csv'

Post Equilibration Started felix_pump_extraction_line.py
Post Measurement Started felix_pump_ms.py
09:23:15 -- ******* Post Equilibration Started felix_pump_extraction_line.py *******
09:23:15 -- ******* Post Measurement Started felix_pump_ms.py *******
testing...
no interpolation path defined
testing...
no interpolation path defined
calculate duration
executed snippet estimated_duration=0, duration=4.60147857666e-05
testing...
Pumping spectrometer
no interpolation path defined
executed snippet estimated_duration=4.0, duration=0.000292062759399
open () {'name': 'V'}
executed snippet estimated_duration=4.0, duration=0.00513601303101
open name=V desc=---
Pump after analysis
doing GOSUB
checking ownership. requestor=129.138.12.137
check software interlocks V
testing...
interlocks []
no interpolation path defined
actuate state mode=None-script, software_lock=True
executed snippet estimated_duration=4.0, duration=0.000293016433716
VALVE-V(Felix Ion Pump) software locked
change switch state (True, False)
Pump Bone
-------------------------- open V () result=[(True, False)]
action=open, ok=True, locked=[True]
executed snippet estimated_duration=0, duration=0.0117769241333
close () {'description': 'Felix Inlet'}
felix_pump_ms.py completed successfully
close name=--- desc=Felix Inlet
setting _ms_pumptime
Post Measurement Finished
checking ownership. requestor=129.138.12.137
09:23:15 -- ******* Post Measurement Finished *******
check software interlocks H
----------------- finish -----------------
interlocks []
state changed from measurement to failed
actuate state mode=None-script, software_lock=True
----------------- stop -----------------
VALVE-H(Felix Inlet) software locked
Measurement Finished unsuccessfully. Aborted=False
change switch state (True, False)
09:23:15 -- ******* Measurement Finished unsuccessfully. Aborted=False *******
-------------------------- close None (Felix Inlet) result=[(True, False)]
action=close, ok=True, locked=[True]
failed execution step Measurement Failed
is_closed ('A',) {}
is A () closed?
measurement did not complete successfully
is closed False
close () {'description': 'CO2 Laser to Bone'}
close name=--- desc=CO2 Laser to Bone
09:23:15 -- Automated run ic-01-F-75 failed duration: 27.300 s
checking ownership. requestor=129.138.12.137
----------------- finish -----------------
check software interlocks F
----------------- stop -----------------
interlocks []
finish run. runs completed=1
actuate state mode=None-script, software_lock=True
write rem/ex queues
VALVE-F(CO2 Laser to Bone) software locked
/Users/obama/PychronDev/experiments/rem/Airs_Cocktails.rem.txt
change switch state (True, False)
-------------------------- close None (CO2 Laser to Bone) result=[(True, False)]
/Users/obama/PychronDev/experiments/rem/Airs_Cocktails.ex.txt
action=close, ok=True, locked=[True]
sleep (1,) {}
doing event level: 3
SLEEP 1.0
